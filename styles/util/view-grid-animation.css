/* Shared view-timeline based card grid animation utilities */
@keyframes card-view-slide-in { from { scale:.85; rotate:calc(var(--card-side,1) * (5deg * var(--card-amp,1))); opacity:0; } to { opacity:1; } }

.card-view-layer { display:grid; gap:.5rem; }
@media (prefers-reduced-motion: no-preference) {
  @supports (animation-timeline: view()) {
    .card-view-layer { animation: card-view-slide-in linear both; animation-timeline: view(); animation-range: cover 0% contain 15%; }
  }
}

/* Pattern for transform-origin distribution (2 / 4 / 6 / 8) */
.card-view-layer:nth-of-type(2n + 1){ transform-origin:25vw 100%; --card-side:-1; }
.card-view-layer:nth-of-type(2n){ transform-origin:-25vw 100%; --card-side:1; }
@media (width >= 720px){
  .card-view-layer:nth-of-type(4n + 1){ transform-origin:50vw 100%; --card-side:-1; --card-amp:2; }
  .card-view-layer:nth-of-type(4n + 2){ transform-origin:25vw 100%; --card-side:-1; }
  .card-view-layer:nth-of-type(4n + 3){ transform-origin:-25vw 100%; --card-side:1; }
  .card-view-layer:nth-of-type(4n){ transform-origin:-50vw 100%; --card-side:1; --card-amp:2; }
}
@media (width >= 1200px){
  .card-view-layer:nth-of-type(6n + 1){ transform-origin:75vw 100%; --card-side:-1; --card-amp:3; }
  .card-view-layer:nth-of-type(6n + 2){ transform-origin:50vw 100%; --card-side:-1; --card-amp:2; }
  .card-view-layer:nth-of-type(6n + 3){ transform-origin:25vw 100%; --card-side:-1; }
  .card-view-layer:nth-of-type(6n + 4){ transform-origin:-25vw 100%; --card-side:1; }
  .card-view-layer:nth-of-type(6n + 5){ transform-origin:-50vw 100%; --card-side:1; --card-amp:2; }
  .card-view-layer:nth-of-type(6n){ transform-origin:-75vw 100%; --card-side:1; --card-amp:3; }
}
@media (width >= 1920px){
  .card-view-layer:nth-of-type(8n + 1){ transform-origin:100vw 100%; --card-side:-1; --card-amp:4; }
  .card-view-layer:nth-of-type(8n + 2){ transform-origin:75vw 100%; --card-side:-1; --card-amp:3; }
  .card-view-layer:nth-of-type(8n + 3){ transform-origin:50vw 100%; --card-side:-1; --card-amp:2; }
  .card-view-layer:nth-of-type(8n + 4){ transform-origin:25vw 100%; --card-side:-1; }
  .card-view-layer:nth-of-type(8n + 5){ transform-origin:-25vw 100%; --card-side:1; }
  .card-view-layer:nth-of-type(8n + 6){ transform-origin:-50vw 100%; --card-side:1; --card-amp:2; }
  .card-view-layer:nth-of-type(8n + 7){ transform-origin:-75vw 100%; --card-side:1; --card-amp:3; }
  .card-view-layer:nth-of-type(8n){ transform-origin:-100vw 100%; --card-side:1; --card-amp:4; }
}

/* Skeleton shimmer */
@keyframes card-skeleton-shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.card-skeleton {
  position:relative; overflow:hidden; background:linear-gradient(110deg,#f0f2ee 25%, #e6e9e3 37%, #f0f2ee 63%);
  background-size:200% 100%; animation: card-skeleton-shimmer 1.4s linear infinite;
}
